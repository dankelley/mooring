<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test Case with Table Tennis Ball â€¢ mooring</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Test Case with Table Tennis Ball">
<meta property="og:description" content="mooring">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mooring</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/mooring.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example.html">A Practical Example</a>
    </li>
    <li>
      <a href="../articles/mooring_elements.html">Default Values for Mooring Elements</a>
    </li>
    <li>
      <a href="../articles/mooring_model.html">Mooring Model</a>
    </li>
    <li>
      <a href="../articles/object_orientation.html">Object-orientation Scheme</a>
    </li>
    <li>
      <a href="../articles/table_tennis.html">Test Case with Table Tennis Ball</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dankelley/mooring/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Test Case with Table Tennis Ball</h1>
                        <h4 data-toc-skip class="author">Dan Kelley (<a href="https://orcid.org/0000-0001-7808-5911" class="external-link uri">https://orcid.org/0000-0001-7808-5911</a>)</h4>
            
            <h4 data-toc-skip class="date">2024-01-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dankelley/mooring/blob/HEAD/vignettes/table_tennis.Rmd" class="external-link"><code>vignettes/table_tennis.Rmd</code></a></small>
      <div class="hidden name"><code>table_tennis.Rmd</code></div>

    </div>

    
    
<p><strong>Abstract.</strong> This vignette outlines a test of the model
against theory for a very simple mooring, and ends with an idea for an
instrument to measure flow based on mooring dynamics.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>As a test of the <code>mooring</code> code, and a possible motivation
for a simple experiment, consider a table-tennis ball attached with a
thin fishing line to a solid immovable object. These balls are very
buoyant in water, consisting of a light and thin material with air
inside. By contrast, fishing line is nearly neutrally buoyant in water.
The area of the ball will appreciably exceed that of the line, unless
the line is very long, and therefore the drag on the ball will be much
larger than the drag on the line.</p>
</div>
<div class="section level2">
<h2 id="theory">Theory<a class="anchor" aria-label="anchor" href="#theory"></a>
</h2>
<p>For simplicity, we may assume that the line has zero drag, and zero
buoyancy.</p>
<p>Let <span class="math inline">\(L\)</span> be the length of the line
and <span class="math inline">\(R\)</span> the radius of the ball. Let
the water density be <span class="math inline">\(\rho\)</span>. Assuming
that the density of the ball (and air inside) is much less than water
density, we may approximate the ball buoyancy force as</p>
<p><span class="math display">\[\begin{equation}
\tag{1}
B = \frac{4}{3}\pi \rho g R^3
\end{equation}\]</span></p>
<p>where <span class="math inline">\(g\)</span> is the acceleration due
to gravity. The drag on the ball may be approximated as</p>
<p><span class="math display">\[\begin{equation}
\tag{2}
D = \frac{1}{2} C_D \rho \pi R^2 u^2
\end{equation}\]</span></p>
<p>where <span class="math inline">\(C_D\)</span> is a drag coefficient
and <span class="math inline">\(u\)</span> is the water speed in the
<span class="math inline">\(x\)</span> direction.</p>
<p>We assume a steady state. If <span class="math inline">\(\tau\)</span> represents tension in the fishing
line, and <span class="math inline">\(\phi\)</span> the angle the line
makes to the vertical, then force balance in the horizontal and vertical
directions requires that</p>
<p><span class="math display">\[\begin{equation}
\tag{3}
\tau\sin\phi = D
\end{equation}\]</span></p>
<p>and</p>
<p><span class="math display">\[\begin{equation}
\tag{4}
\tau\cos\phi = B
\end{equation}\]</span> respectively. Dividing these yields <span class="math display">\[\begin{equation}
\tag{5}
\phi = \tan^{-1}\frac{D}{B}
\end{equation}\]</span></p>
<p>From the above, it follows that tension in the line is</p>
<p><span class="math display">\[\begin{equation}
\tag{6}
\tau = \frac{B}{\cos\phi}
\end{equation}\]</span></p>
<p>that the ball is at position</p>
<p><span class="math display">\[\begin{equation}
\tag{7}
x' = L\sin\phi
\end{equation}\]</span></p>
<p>and that it is at height</p>
<p><span class="math display">\[\begin{equation}
\tag{8}
z' = L - L\cos\phi
\end{equation}\]</span></p>
<p>above the bottom.</p>
<p>It is easy to imagine an experimental setup in which <span class="math inline">\(x'\)</span> might be measured (replace the
anchor with a rod held vertical in the water column, with the line
attached at the bottom, and sight downwards to get the distance of the
float from the rod).</p>
</div>
<div class="section level2">
<h2 id="test">Test<a class="anchor" aria-label="anchor" href="#test"></a>
</h2>
<p>The predictions can be tested against the <code><a href="../reference/knockdown.html">knockdown()</a></code>
function as follows. This imagines a river of depth 0.5m (about
knee-deep) and a 1m/s current (about walking speed). Note that the
prediction of the <code>mooring</code> code matches that (circled in
blue) of the formulae given above.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://testthat.r-lib.org" class="external-link">testthat</a></span><span class="op">)</span></span>
<span><span class="va">L</span> <span class="op">&lt;-</span> <span class="fl">0.5</span> <span class="co"># tank depth, m</span></span>
<span><span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fl">0.04</span> <span class="co"># ping-pong balls have 40mm diameter</span></span>
<span><span class="va">R</span> <span class="op">&lt;-</span> <span class="va">diameter</span> <span class="op">/</span> <span class="fl">2</span></span>
<span><span class="va">area</span> <span class="op">&lt;-</span> <span class="va">pi</span> <span class="op">*</span> <span class="va">R</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="va">volume</span> <span class="op">&lt;-</span> <span class="fl">4</span> <span class="op">/</span> <span class="fl">3</span> <span class="op">*</span> <span class="va">pi</span> <span class="op">*</span> <span class="va">R</span><span class="op">^</span><span class="fl">3</span></span>
<span><span class="va">rho</span> <span class="op">&lt;-</span> <span class="fl">1027</span></span>
<span><span class="va">deltaRho</span> <span class="op">&lt;-</span> <span class="va">rho</span> <span class="co"># water vs air (round numbers)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fl">9.81</span></span>
<span><span class="va">B</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">*</span> <span class="va">deltaRho</span> <span class="op">*</span> <span class="va">volume</span> <span class="co"># buoyancy force [N]</span></span>
<span><span class="va">CD</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">u</span> <span class="op">&lt;-</span> <span class="fl">0.5</span> <span class="co"># speed, m/s</span></span>
<span><span class="va">D</span> <span class="op">&lt;-</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="va">CD</span> <span class="op">*</span> <span class="va">area</span> <span class="op">*</span> <span class="va">rho</span> <span class="op">*</span> <span class="va">u</span><span class="op">^</span><span class="fl">2</span> <span class="co"># ddrag force [N]</span></span>
<span><span class="va">phi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">atan2</a></span><span class="op">(</span><span class="va">D</span>, <span class="va">B</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">L</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sin</a></span><span class="op">(</span><span class="va">phi</span><span class="op">)</span></span>
<span><span class="va">l</span> <span class="op">&lt;-</span> <span class="va">L</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cos</a></span><span class="op">(</span><span class="va">phi</span><span class="op">)</span></span>
<span><span class="va">tau</span> <span class="op">&lt;-</span> <span class="va">B</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cos</a></span><span class="op">(</span><span class="va">phi</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dankelley.github.io/mooring/" class="external-link">mooring</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: S7</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/float.html">float</a></span><span class="op">(</span><span class="st">"pingpong"</span>, <span class="va">B</span> <span class="op">/</span> <span class="va">g</span>, height <span class="op">=</span> <span class="fl">0</span>, area <span class="op">=</span> <span class="va">pi</span> <span class="op">*</span> <span class="va">R</span><span class="op">^</span><span class="fl">2</span>, CD <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://testthat.r-lib.org/reference/equality-expectations.html" class="external-link">expect_equal</a></span><span class="op">(</span><span class="va">B</span> <span class="op">/</span> <span class="va">g</span>, <span class="fu"><a href="../reference/buoyancy.html">buoyancy</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://testthat.r-lib.org/reference/equality-expectations.html" class="external-link">expect_equal</a></span><span class="op">(</span><span class="va">D</span>, <span class="fu"><a href="../reference/drag.html">drag</a></span><span class="op">(</span><span class="va">f</span>, u <span class="op">=</span> <span class="va">u</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wire.html">wire</a></span><span class="op">(</span><span class="st">"gossamer"</span>, length <span class="op">=</span> <span class="va">L</span>, buoyancyPerMeter <span class="op">=</span> <span class="fl">0</span>, areaPerMeter <span class="op">=</span> <span class="fl">0</span>, CD <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anchor.html">anchor</a></span><span class="op">(</span><span class="st">"fake"</span>, buoyancy <span class="op">=</span> <span class="op">-</span><span class="fl">1000</span>, height <span class="op">=</span> <span class="fl">0</span>, CD <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mooring.html">mooring</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">w</span>, <span class="va">f</span>, waterDepth <span class="op">=</span> <span class="va">L</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/segmentize.html">segmentize</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">L</span> <span class="op">/</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">msk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knockdown.html">knockdown</a></span><span class="op">(</span><span class="va">ms</span>, u <span class="op">=</span> <span class="va">u</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">msk</span>, fancy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># Check against theory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">L</span> <span class="op">-</span> <span class="va">l</span>, col <span class="op">=</span> <span class="fl">2</span>, cex <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="table_tennis_files/figure-html/unnamed-chunk-1-1.png" alt="*Test of package against direct computation. The black dot is the float position computed in the package, whereas the red circle is the result of direct computation using equations 7 and 8.*" width="700.0000032"><p class="caption">
<em>Test of package against direct computation. The black dot is the
float position computed in the package, whereas the red circle is the
result of direct computation using equations 7 and 8.</em>
</p>
</div>
</div>
<div class="section level2">
<h2 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h2>
<p>The theory and the calculations using <code><a href="../reference/knockdown.html">knockdown()</a></code> agree
well. There are three main observables that might be part of an
experiment to test this in a natural environment.</p>
<ol style="list-style-type: decimal">
<li>The horizontal shift of the float, <span class="math inline">\(x'\)</span>. Here, a <span class="math inline">\(0.5\)</span> m/s current is predicted to yield
<span class="math inline">\(x'=21.6\)</span> cm.</li>
<li>The vertical float displacement over the zero-velocity case, <span class="math inline">\(z'\)</span>. Here, the prediction is <span class="math inline">\(4.9\)</span> cm.</li>
<li>The tension in the line, <span class="math inline">\(\tau\)</span>,
is predicted to be <span class="math inline">\(`r  round(tau,3)`\)</span> Newtons, so that an
anchor would need to have mass exceeding 38.1 g to avoid lifting by the
drag. This mass rises to 74.3 g in a 1 m/s current, which is slightly
less than the mass of a 3/4-inch bolt, 136 g, and well under the weight
of a 1-inch bolt, 195 g. This suggests that a 1-inch bolt might be a
good anchor for a demonstration of this effect in a flume. (See <a href="https://www.portlandbolt.com/products/nuts/hex-nuts/" class="external-link uri">https://www.portlandbolt.com/products/nuts/hex-nuts/</a> for
a table of bolt properties.)</li>
</ol>
</div>
<div class="section level2">
<h2 id="measuring-currents">Measuring currents<a class="anchor" aria-label="anchor" href="#measuring-currents"></a>
</h2>
<p>Any of <span class="math inline">\(x'\)</span>, <span class="math inline">\(z'\)</span> and <span class="math inline">\(\tau\)</span> could be measured in a classroom or
laboratory setting, but measuring tension might be harder in a field
test, and so a field apparatus should focus on measuring <span class="math inline">\(x'\)</span> and <span class="math inline">\(x'\)</span>. This would not be difficult, for
this range of current, using a metre-stick, to which is attached a
table-tennis ball with 1 m of thin mono-filament fishing line. A value
of <span class="math inline">\(z'\)</span> could be obtained by
lowering the rod slowly, until the float just sinks below the surface,
and observing water level on the stickâ€™s distance markings. A value of
<span class="math inline">\(x'\)</span> could be obtained with a
second meter stick held horizontally so that the ball position could be
observed from overhead.</p>
<p>In a laboratory setting, or with a bit of engineering for a field
setting, the tension could be measured. An advantage of that method
would be that it could be digitized and, using a microcontroller to do
the calculations shown here, a readout could show the current speed.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Dan Kelley.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
