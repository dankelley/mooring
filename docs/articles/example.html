<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Practical Example • mooring</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A Practical Example">
<meta property="og:description" content="mooring">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mooring</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/mooring.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example.html">A Practical Example</a>
    </li>
    <li>
      <a href="../articles/mooring_elements.html">Default Values for Mooring Elements</a>
    </li>
    <li>
      <a href="../articles/mooring_model.html">Mooring Model</a>
    </li>
    <li>
      <a href="../articles/object_orientation.html">Object-orientation Scheme</a>
    </li>
    <li>
      <a href="../articles/table_tennis.html">Test Case with Table Tennis Ball</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dankelley/mooring/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A Practical Example</h1>
                        <h4 data-toc-skip class="author">Dan Kelley (<a href="https://orcid.org/0000-0001-7808-5911" class="external-link uri">https://orcid.org/0000-0001-7808-5911</a>)</h4>
            
            <h4 data-toc-skip class="date">2024-06-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dankelley/mooring/blob/HEAD/vignettes/example.Rmd" class="external-link"><code>vignettes/example.Rmd</code></a></small>
      <div class="hidden name"><code>example.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette explains how to use the <code>mooring</code> package to
create a simulation of mooring 1840 on the Sackville Spur, based on a
diagram that appeared in a report provided by the Bedford Institute of
Oceanography (Department of Fisheries and Oceans, Canada) containing a
Notice to Mariners document.</p>
</div>
<div class="section level2">
<h2 id="source-document">Source Document<a class="anchor" aria-label="anchor" href="#source-document"></a>
</h2>
<div class="figure" style="text-align: center">
<img src="mooring_1840_enhanced.png" alt="**Figure 1. Diagram for Bedford Institute of Oceanograph mooring 1840 on Sackville Spur**" width="70%"><p class="caption">
<strong>Figure 1. Diagram for Bedford Institute of Oceanograph mooring
1840 on Sackville Spur</strong>
</p>
</div>
</div>
<div class="section level2">
<h2 id="mooring-construction">Mooring Construction<a class="anchor" aria-label="anchor" href="#mooring-construction"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mooring 1840 (p10 of doc)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dankelley.github.io/mooring/" class="external-link">mooring</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: S7</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Abbreviations for convenience</span></span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">length</span><span class="op">)</span> <span class="fu"><a href="../reference/wire.html">wire</a></span><span class="op">(</span><span class="st">"3/16in galvanized wire coated to 1/4in"</span>, length <span class="op">=</span> <span class="va">length</span><span class="op">)</span></span>
<span><span class="va">BUB3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/float.html">float</a></span><span class="op">(</span><span class="st">"streamlined BUB 3 Viny balls"</span><span class="op">)</span></span>
<span><span class="va">RCM11</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/instrument.html">instrument</a></span><span class="op">(</span><span class="st">"RCM-11 in frame"</span><span class="op">)</span> <span class="co"># "AANDERAA RCM11"</span></span>
<span><span class="va">microcat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/instrument.html">instrument</a></span><span class="op">(</span><span class="st">"SBE37 microcat clamp-on style"</span><span class="op">)</span> <span class="co"># "SBE MICROCAT"</span></span>
<span></span>
<span><span class="co"># The database does not have a 5-wheel anchor, but we may construct</span></span>
<span><span class="co"># one as follows.  Note that this does not matter to the knockdown</span></span>
<span><span class="co"># calculation, but it might be useful in cases where an anchor was</span></span>
<span><span class="co"># not heavy enough to hold the mooring in place.</span></span>
<span><span class="va">buoyancy</span> <span class="op">&lt;-</span> <span class="fl">5</span> <span class="op">/</span> <span class="fl">3</span> <span class="op">*</span> <span class="fu"><a href="../reference/anchor.html">anchor</a></span><span class="op">(</span><span class="st">"3 trainwheels"</span><span class="op">)</span><span class="op">@</span><span class="va">buoyancy</span></span>
<span><span class="va">height</span> <span class="op">&lt;-</span> <span class="fl">5</span> <span class="op">/</span> <span class="fl">3</span> <span class="op">*</span> <span class="fu"><a href="../reference/anchor.html">anchor</a></span><span class="op">(</span><span class="st">"3 trainwheels"</span><span class="op">)</span><span class="op">@</span><span class="va">height</span></span>
<span><span class="va">CD</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anchor.html">anchor</a></span><span class="op">(</span><span class="st">"3 trainwheels"</span><span class="op">)</span><span class="op">@</span><span class="va">CD</span></span>
<span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anchor.html">anchor</a></span><span class="op">(</span><span class="st">"5 trainwheels"</span>, buoyancy <span class="op">=</span> <span class="va">buoyancy</span>, height <span class="op">=</span> <span class="va">height</span>, CD <span class="op">=</span> <span class="va">CD</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mooring.html">mooring</a></span><span class="op">(</span></span>
<span>    <span class="va">A</span>,</span>
<span>    <span class="fu"><a href="../reference/chain.html">chain</a></span><span class="op">(</span><span class="st">"5/8in galvanized chain"</span>, length <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/release.html">release</a></span><span class="op">(</span><span class="st">"benthos 965a"</span><span class="op">)</span>, <span class="co"># dual benthos 965-a</span></span>
<span>    <span class="va">BUB3</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">34</span><span class="op">)</span>,</span>
<span>    <span class="va">microcat</span>,</span>
<span>    <span class="va">RCM11</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>,</span>
<span>    <span class="va">BUB3</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">144</span><span class="op">)</span>,</span>
<span>    <span class="va">microcat</span>,</span>
<span>    <span class="va">RCM11</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">147</span><span class="op">)</span>,</span>
<span>    <span class="va">BUB3</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">46</span><span class="op">)</span>,</span>
<span>    <span class="va">microcat</span>,</span>
<span>    <span class="va">RCM11</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">198</span><span class="op">)</span>,</span>
<span>    <span class="va">microcat</span>,</span>
<span>    <span class="va">RCM11</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">198</span><span class="op">)</span>,</span>
<span>    <span class="va">microcat</span>,</span>
<span>    <span class="va">RCM11</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">197</span><span class="op">)</span>,</span>
<span>    <span class="va">microcat</span>,</span>
<span>    <span class="va">RCM11</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">146</span><span class="op">)</span>,</span>
<span>    <span class="va">microcat</span>,</span>
<span>    <span class="fu"><a href="../reference/connector.html">connector</a></span><span class="op">(</span><span class="st">"swivel"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/connector.html">connector</a></span><span class="op">(</span><span class="st">"ballast"</span>, <span class="op">-</span><span class="fl">100</span> <span class="op">/</span> <span class="fl">2.2</span>, height <span class="op">=</span> <span class="fl">1</span>, area <span class="op">=</span> <span class="fl">0.05</span>, CD <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/float.html">float</a></span><span class="op">(</span><span class="st">"syn. float, bracket and 109lb ADCP"</span><span class="op">)</span>,</span>
<span>    <span class="fu">W</span><span class="op">(</span><span class="fl">149</span><span class="op">)</span>,</span>
<span>    <span class="va">microcat</span>,</span>
<span>    <span class="fu"><a href="../reference/float.html">float</a></span><span class="op">(</span><span class="st">"new glass streamlined float c2"</span><span class="op">)</span>,</span>
<span>    waterDepth <span class="op">=</span> <span class="fl">1400</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/segmentize.html">segmentize</a></span><span class="op">(</span><span class="va">m</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="knockdown-simulation">Knockdown Simulation<a class="anchor" aria-label="anchor" href="#knockdown-simulation"></a>
</h2>
<p>For illustration, the simulation below uses an entirely made-up
velocity structure. Note the setting of <code>xlim</code> to provide
space for the labels.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">u</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">depth</span><span class="op">)</span> <span class="fl">0.3</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">depth</span> <span class="op">/</span> <span class="fl">1400</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, nrow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.75</span>, <span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">msk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knockdown.html">knockdown</a></span><span class="op">(</span><span class="va">ms</span>, u <span class="op">=</span> <span class="va">u</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">msk</span>, <span class="st">"knockdown"</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4.0</span><span class="op">)</span>, showDetails <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">msk</span>, <span class="st">"velocity"</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="example_files/figure-html/unnamed-chunk-3-1.png" alt="**Figure 2. Simulation of knockdown with a depth-decaying current.**" width="100%"><p class="caption">
<strong>Figure 2. Simulation of knockdown with a depth-decaying
current.</strong>
</p>
</div>
</div>
<div class="section level2">
<h2 id="knockdown-speed-diagram">Knockdown-Speed Diagram<a class="anchor" aria-label="anchor" href="#knockdown-speed-diagram"></a>
</h2>
<p>We may get an idea of the overall response of the mooring to water
velocity by running simulations with a range of velocities. Noting that
the top of the mooring, from the surface to 200m, is knocked over much
more than the rest, let’s focus on the depth of the second microcat from
the top, i.e. the one below the ADCP. Typing <code>ms</code> in a
console gives an overview, from which one may find the ADCP element
using</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">ms</span><span class="op">@</span><span class="va">elements</span>, \<span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="va">e</span><span class="op">@</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="va">iADCP</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"ADCP"</span>, <span class="va">names</span><span class="op">)</span></span>
<span><span class="va">iADCP</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 23</span></span></code></pre>
<p>We may use this to construct a diagnostic curve giving an overview of
the mooring knockdown, as follows. Note that the <span class="math inline">\(x\)</span> axis of the resultant plot is showing
velocity at the depth of the ADCP.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, mgp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0.7</span>, <span class="fl">0</span><span class="op">)</span>, mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">20</span></span>
<span><span class="va">u0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span>, length.out <span class="op">=</span> <span class="va">N</span><span class="op">)</span></span>
<span><span class="va">dz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="va">N</span><span class="op">)</span></span>
<span><span class="va">U</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="va">N</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">u</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">depth</span><span class="op">)</span> <span class="va">u0</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">depth</span> <span class="op">/</span> <span class="fl">1400</span><span class="op">)</span></span>
<span>    <span class="va">k</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knockdown.html">knockdown</a></span><span class="op">(</span><span class="va">ms</span>, <span class="va">u</span><span class="op">)</span></span>
<span>    <span class="va">U</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">u</span><span class="op">(</span><span class="op">-</span><span class="va">k</span><span class="op">@</span><span class="va">elements</span><span class="op">[[</span><span class="va">iADCP</span><span class="op">]</span><span class="op">]</span><span class="op">@</span><span class="va">z</span><span class="op">)</span></span>
<span>    <span class="va">dz</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">k</span><span class="op">@</span><span class="va">elements</span><span class="op">[[</span><span class="va">iADCP</span><span class="op">]</span><span class="op">]</span><span class="op">@</span><span class="va">z</span> <span class="op">-</span> <span class="va">ms</span><span class="op">@</span><span class="va">elements</span><span class="op">[[</span><span class="va">iADCP</span><span class="op">]</span><span class="op">]</span><span class="op">@</span><span class="va">z</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">U</span>, <span class="va">dz</span>, lwd <span class="op">=</span> <span class="fl">2</span>, type <span class="op">=</span> <span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"Velocity [m/s]"</span>, ylab <span class="op">=</span> <span class="st">"Knockdown [m]"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/grid.html" class="external-link">grid</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Knockdown for ADCP nominally at %.0f m depth"</span>, <span class="op">-</span><span class="va">ms</span><span class="op">@</span><span class="va">elements</span><span class="op">[[</span><span class="va">iADCP</span><span class="op">]</span><span class="op">]</span><span class="op">@</span><span class="va">z</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="example_files/figure-html/unnamed-chunk-5-1.png" alt="**Figure 3. Speed-knockdown summary diagram**" width="100%"><p class="caption">
<strong>Figure 3. Speed-knockdown summary diagram</strong>
</p>
</div>
</div>
<div class="section level2">
<h2 id="examining-moorings">Examining Moorings<a class="anchor" aria-label="anchor" href="#examining-moorings"></a>
</h2>
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>An overview of a mooring is provided by printing it, either with</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p>or, in an interactive session, with</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span></span></code></pre></div>
<p>Note that the results for <code>ms</code> will be similar, except
there will be many more elements (for the segmented chain and wire
components). If <code>msk</code> is examined in this way, the <span class="math inline">\(x\)</span> and <span class="math inline">\(z\)</span> values will be different.</p>
</div>
<div class="section level3">
<h3 id="components">Components<a class="anchor" aria-label="anchor" href="#components"></a>
</h3>
<p>To learn more about, say, the top element, use</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span><span class="op">@</span><span class="va">elements</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;mooring::floatS7&gt;</span></span>
<span><span class="co">##  @ model       : chr "new glass streamlined float c2"</span></span>
<span><span class="co">##  @ buoyancy    : num 45.4</span></span>
<span><span class="co">##  @ height      : num 0.87</span></span>
<span><span class="co">##  @ area        : num 0.183</span></span>
<span><span class="co">##  @ CD          : num 0.6</span></span>
<span><span class="co">##  @ source      : chr "BIO"</span></span>
<span><span class="co">##  @ originalName: chr "NEW GLASS STREAMLINED FLOAT (C2)"</span></span>
<span><span class="co">##  @ x           : num 0</span></span>
<span><span class="co">##  @ x0          : num 0</span></span>
<span><span class="co">##  @ z           : num -63.6</span></span>
<span><span class="co">##  @ z0          : num -63.6</span></span>
<span><span class="co">##  @ phi         : num 0</span></span>
<span><span class="co">##  @ tau         : num 45.4</span></span>
<span><span class="co">##  @ group       : num 0</span></span></code></pre>
<p>and, as shown previously, finer-grained access is achieved as,
e.g.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span><span class="op">@</span><span class="va">elements</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">@</span><span class="va">buoyancy</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 45.41</span></span></code></pre>
<p><strong>Exercise 1.</strong> Double the chain density, to see the
effect on knock-down.</p>
<p><strong>Exercise 2.</strong> Double the drag coefficient on the wire,
to see how much this increases knockdown.</p>
</div>
<div class="section level3">
<h3 id="answers-to-exercises">Answers to Exercises<a class="anchor" aria-label="anchor" href="#answers-to-exercises"></a>
</h3>
<div class="section level4">
<h4 id="doubling-chain-density">1. Doubling chain density<a class="anchor" aria-label="anchor" href="#doubling-chain-density"></a>
</h4>
<p>A simple way to do this is to create <code>m</code> as before, but
then to use</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span><span class="op">@</span><span class="va">elements</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">@</span><span class="va">buoyancy</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">m</span><span class="op">@</span><span class="va">elements</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">@</span><span class="va">buoyancy</span></span></code></pre></div>
<p>before using <code>digitise()</code>, <code><a href="../reference/knockdown.html">knockdown()</a></code> and
then <code>plot.mooring()</code>. Before doing that though, you should
ask yourself whether you expect to see a large effect.</p>
</div>
<div class="section level4">
<h4 id="doubling-wire-drag">2. Doubling wire drag<a class="anchor" aria-label="anchor" href="#doubling-wire-drag"></a>
</h4>
<p>One way to do this is to replace the <code>W</code> definition
with</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">W</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">length</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">w0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wire.html">wire</a></span><span class="op">(</span><span class="st">"3/16in galvanized wire coated to 1/4in"</span>, length <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="../reference/wire.html">wire</a></span><span class="op">(</span><span class="st">"draggy wire"</span>,</span>
<span>        buoyancy <span class="op">=</span> <span class="va">w0</span><span class="op">@</span><span class="va">buoyancy</span>,</span>
<span>        area <span class="op">=</span> <span class="va">w0</span><span class="op">@</span><span class="va">area</span>, CD <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">w0</span><span class="op">@</span><span class="va">CD</span>, length <span class="op">=</span> <span class="va">length</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>and then create <code>m</code>, <code>ms</code> and <code>msk</code>
as before. The results are as follows. Note that an axis change is
required to capture the approximately-doubled knockdown. This
illustrates the importance of getting drag coefficient right, a matter
dealt with in detail by <span class="citation">J. M. Hamilton
(1989)</span> and <span class="citation">James M. Hamilton, Fowler, and
Belliveau (1997)</span>.</p>
<div class="figure" style="text-align: center">
<img src="example_files/figure-html/unnamed-chunk-13-1.png" alt="**Figure 4. As Figure 2, but doubled wire drag. Note the doubled range of the 'Depth Increase' axis, to accomodate the approximately doubled knockdown.**" width="100%"><p class="caption">
<strong>Figure 4. As Figure 2, but doubled wire drag. Note the doubled
range of the ‘Depth Increase’ axis, to accomodate the approximately
doubled knockdown.</strong>
</p>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-hamilton_validation_1989" class="csl-entry">
Hamilton, J. M. 1989. <span>“The Validation and Practical Applications
of a Sub-Surface Mooring Model.”</span> 119. Bedford Institute of
Oceanography. <a href="https://waves-vagues.dfo-mpo.gc.ca/Library/112322.pdf" class="external-link">https://waves-vagues.dfo-mpo.gc.ca/Library/112322.pdf</a>.
</div>
<div id="ref-hamilton_mooring_1997" class="csl-entry">
Hamilton, James M., George A Fowler, and Donald J. Belliveau. 1997.
<span>“Mooring <span>Vibration</span> as a <span>Source</span> of
<span>Current</span> <span>Meter</span> <span>Error</span> and
<span>Its</span> <span>Correction</span>.”</span> <em>Journal of
Atmospheric and Oceanic Technology</em> 14 (3): 644–55. <a href="https://doi.org/10.1175/1520-0426(1997)014&lt;0644:MVAASO&gt;2.0.CO;2" class="external-link">https://doi.org/10.1175/1520-0426(1997)014&lt;0644:MVAASO&gt;2.0.CO;2</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Dan Kelley.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
