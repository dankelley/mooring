<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test Case with Table Tennis Ball • mooring</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Test Case with Table Tennis Ball">
<meta property="og:description" content="mooring">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mooring</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mooring.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/knockdown_model.html">Mooring Response to Unidirectional Flow</a>
    </li>
    <li>
      <a href="../articles/mooring_elements.html">Default Values for Mooring Elements</a>
    </li>
    <li>
      <a href="../articles/object_orientation.html">Object-orientation Scheme</a>
    </li>
    <li>
      <a href="../articles/table_tennis.html">Test Case with Table Tennis Ball</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dankelley/mooring/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="table_tennis_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Test Case with Table Tennis Ball</h1>
                        <h4 class="author">Dan Kelley (<a href="https://orcid.org/0000-0001-7808-5911" class="uri">https://orcid.org/0000-0001-7808-5911</a>)</h4>
            
            <h4 class="date">2021-06-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dankelley/mooring/blob/master/vignettes/table_tennis.Rmd"><code>vignettes/table_tennis.Rmd</code></a></small>
      <div class="hidden name"><code>table_tennis.Rmd</code></div>

    </div>

    
    
<p><strong>Abstract.</strong> This vignette outlines a test of the model against theory for a very simple mooring, and ends with an idea for an instrument to measure flow based on mooring dynamics.</p>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>As a test of the <code>mooring</code> code, and a possible motivation for a simple experiment, consider a table-tennis ball attached with a thin fishing line to a solid immovable object. These balls are very buoyant in water, consisting of a light and thin material with air inside. By contrast, fishing line is nearly neutrally buoyant in water. The area of the ball will appreciably exceed that of the line, unless the line is very long, and therefore the drag on the ball will be much larger than the drag on the line.</p>
</div>
<div id="theory" class="section level1">
<h1 class="hasAnchor">
<a href="#theory" class="anchor"></a>Theory</h1>
<p>For simplicity, we may assume that the line has zero drag, and zero buoyancy.</p>
<p>Let <span class="math inline">\(L\)</span> be the length of the line and <span class="math inline">\(R\)</span> the radius of the ball. Let the water density be <span class="math inline">\(\rho\)</span>. Assuming that the density of the ball (and air inside) is much less than water density, we may approximate the ball buoyancy force as <span class="math display">\[\begin{equation}
B = \frac{4}{3}\pi \rho g R^3
\end{equation}\]</span> where <span class="math inline">\(g\)</span> is the acceleration due to gravity. The drag on the ball may be approximated as <span class="math display">\[\begin{equation}
D = \frac{1}{2} C_D \rho \pi R^2 u^2
\end{equation}\]</span> where <span class="math inline">\(C_D\)</span> is a drag coefficient and <span class="math inline">\(u\)</span> is the water speed in the <span class="math inline">\(x\)</span> direction.</p>
<p>We assume a steady state. If <span class="math inline">\(T\)</span> represents tension in the fishing line, and <span class="math inline">\(\phi\)</span> the angle the line makes to the vertical, then force balance in the horizontal and vertical directions requires that <span class="math display">\[\begin{equation}
T\sin\phi = D
\end{equation}\]</span> and <span class="math display">\[\begin{equation}
T\cos\phi = B
\end{equation}\]</span> respectively. Dividing these yields <span class="math display">\[\begin{equation}
\phi = \tan^{-1}\frac{D}{B}
\end{equation}\]</span></p>
<p>From the above, it follows that tension in the line is <span class="math display">\[\begin{equation}
T = \frac{B}{\cos\phi}
\end{equation}\]</span> and that the ball is at position <span class="math display">\[\begin{equation}
x' = L\sin\phi
\end{equation}\]</span> and that it is at height <span class="math display">\[\begin{equation}
z' = L - L\cos\phi
\end{equation}\]</span> above the bottom.</p>
<p>It is easy to imagine an experimental setup in which <span class="math inline">\(x'\)</span> might be measured (replace the anchor with a rod held vertical in the water column, with the line attached at the bottom, and sight downwards to get the distance of the float from the rod).</p>
</div>
<div id="test" class="section level1">
<h1 class="hasAnchor">
<a href="#test" class="anchor"></a>Test</h1>
<p>The predictions can be tested against the <code><a href="../reference/knockdown.html">knockdown()</a></code> function as follows. This imagines a river of depth 0.5m (about knee-deep) and a 1m/s current (about walking speed). Note that the prediction of the <code>mooring</code> code matches that (circled in blue) of the formulae given above.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://testthat.r-lib.org">testthat</a></span><span class="op">)</span>
<span class="va">L</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>                               <span class="co"># tank depth, m</span>
<span class="va">diameter</span> <span class="op">&lt;-</span> <span class="fl">0.04</span> <span class="co"># ping-pong balls have 40mm diameter</span>
<span class="va">R</span> <span class="op">&lt;-</span> <span class="va">diameter</span> <span class="op">/</span> <span class="fl">2</span>
<span class="va">area</span> <span class="op">&lt;-</span> <span class="va">pi</span><span class="op">*</span><span class="va">R</span><span class="op">^</span><span class="fl">2</span>
<span class="va">volume</span> <span class="op">&lt;-</span> <span class="fl">4</span><span class="op">/</span><span class="fl">3</span><span class="op">*</span><span class="va">pi</span><span class="op">*</span><span class="va">R</span><span class="op">^</span><span class="fl">3</span>
<span class="va">rho</span> <span class="op">&lt;-</span> <span class="fl">1027</span>
<span class="va">deltaRho</span> <span class="op">&lt;-</span> <span class="va">rho</span>                        <span class="co"># water vs air (round numbers)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fl">9.8</span>
<span class="va">Bkg</span> <span class="op">&lt;-</span> <span class="va">deltaRho</span> <span class="op">*</span> <span class="va">volume</span> <span class="co"># kg</span>
<span class="va">B</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">*</span> <span class="va">Bkg</span>
<span class="va">CD</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="va">u</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>                               <span class="co"># speed, m/s</span>
<span class="va">D</span> <span class="op">&lt;-</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="va">CD</span> <span class="op">*</span> <span class="va">area</span> <span class="op">*</span> <span class="va">rho</span> <span class="op">*</span> <span class="va">u</span><span class="op">^</span><span class="fl">2</span>
<span class="va">phi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">atan2</a></span><span class="op">(</span><span class="va">D</span>, <span class="va">B</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">L</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">phi</span><span class="op">)</span>
<span class="va">l</span> <span class="op">&lt;-</span> <span class="va">L</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">phi</span><span class="op">)</span>
<span class="cn">T</span> <span class="op">&lt;-</span> <span class="va">B</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">phi</span><span class="op">)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dankelley.github.io/mooring/">mooring</a></span><span class="op">)</span>
<span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/float.html">float</a></span><span class="op">(</span><span class="st">"pingpong"</span>, <span class="va">Bkg</span>, height<span class="op">=</span><span class="fl">0</span>, diameter<span class="op">=</span><span class="fl">2</span><span class="op">*</span><span class="va">R</span>, CD<span class="op">=</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://testthat.r-lib.org/reference/equality-expectations.html">expect_equal</a></span><span class="op">(</span><span class="va">Bkg</span>, <span class="fu"><a href="../reference/buoyancy.html">buoyancy</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://testthat.r-lib.org/reference/equality-expectations.html">expect_equal</a></span><span class="op">(</span><span class="va">D</span>, <span class="fu"><a href="../reference/drag.html">drag</a></span><span class="op">(</span><span class="va">f</span>, u<span class="op">=</span><span class="va">u</span><span class="op">)</span><span class="op">)</span>

<span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wire.html">wire</a></span><span class="op">(</span><span class="st">"gossamer"</span>, length<span class="op">=</span><span class="va">L</span>, buoyancyPerMeter<span class="op">=</span><span class="fl">0</span>, CD<span class="op">=</span><span class="fl">0</span>, diameter<span class="op">=</span><span class="fl">0</span><span class="op">)</span>
<span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anchor.html">anchor</a></span><span class="op">(</span><span class="st">"fake"</span>, buoyancy<span class="op">=</span><span class="op">-</span><span class="fl">1000</span>, height<span class="op">=</span><span class="fl">0</span>, depth<span class="op">=</span><span class="va">L</span><span class="op">)</span>
<span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mooring.html">mooring</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">w</span>, <span class="va">f</span><span class="op">)</span>

<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">500</span> <span class="co"># number of sub-segments to use</span>
<span class="va">md</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/discretise.html">discretise</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">L</span><span class="op">/</span><span class="va">n</span><span class="op">)</span>
<span class="va">mdk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/knockdown.html">knockdown</a></span><span class="op">(</span><span class="va">md</span>, u<span class="op">=</span><span class="va">u</span><span class="op">)</span></code></pre></div>
<pre><code>## before replace last point:</code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">mdk</span>, fancy<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>## FIXME: xstagnant def in plot.mooring is wrong</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Check against theory</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">L</span><span class="op">-</span><span class="va">l</span>, col<span class="op">=</span><span class="fl">2</span>, cex<span class="op">=</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="table_tennis_files/figure-html/unnamed-chunk-1-1.png" width="600"></p>
</div>
<div id="results" class="section level1">
<h1 class="hasAnchor">
<a href="#results" class="anchor"></a>Results</h1>
<p>The theory and the calculations using <code><a href="../reference/knockdown.html">knockdown()</a></code> agree well. There are three main observables that might be part of an experiment to test this in a natural environment.</p>
<ol style="list-style-type: decimal">
<li>The horizontal shift of the float, <span class="math inline">\(x'\)</span>. Here, a <span class="math inline">\(0.5\)</span> m/s current is predicted to yield <span class="math inline">\(x'=21.5\)</span> cm.</li>
<li>The vertical float displacement over the zero-velocity case, <span class="math inline">\(z'\)</span>. Here, the prediction is <span class="math inline">\(5.0\)</span> cm.</li>
<li>The tension in the line, <span class="math inline">\(T\)</span>. The prediction is <span class="math inline">\(0.374\)</span> Newtons, equivalent to 38.1 g.</li>
</ol>
</div>
<div id="measuring-currents" class="section level1">
<h1 class="hasAnchor">
<a href="#measuring-currents" class="anchor"></a>Measuring currents</h1>
<p>Any of <span class="math inline">\(x'\)</span>, <span class="math inline">\(z'\)</span> and <span class="math inline">\(T\)</span> could be measured in a classroom or laboratory setting, although it might be harder to measure the tension force in the field, so a field apparatus should focus on measuring <span class="math inline">\(x'\)</span> and <span class="math inline">\(x'\)</span>. This would not be difficult, for this range of current, using a metre-stick, to which is attached a table-tennis ball with 1 m of thin mono-filament fishing line. A value of <span class="math inline">\(z'\)</span> could be obtained by lowering the rod slowly, until the float just sinks below the surface, and observing water level on the stick’s distance markings. A value of <span class="math inline">\(x'\)</span> could be obtained with a second meter stick held horizontally so that the ball position could be observed from overhead.</p>
<p>In a laboratory setting, or with a bit of engineering for a field setting, the tension could be measured. An advantage of that method would be that it could be digitized and, using a microcontroller to do the calculations shown here, a readout could show the current speed.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Dan Kelley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
